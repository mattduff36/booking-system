<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T&S Bouncy Castle Hire - Edwinstowe's Premier Bouncy Castle Service</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bubblegum+Sans:wght@400&family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="leaflet-styles.css">
</head>
<body>
    <!-- A5 Leaflet Container -->
    <div class="leaflet-container">
        
        <!-- SINGLE SIDE -->
        <div class="leaflet-side front-side">
            
            <!-- Hero Background Images (like main site) -->
            <div class="hero-bg-images">
                <img src="../bouncy-castle-1.jpg" alt="Bouncy castle" class="bg-image active">
                <img src="../bouncy-castle-2.jpg" alt="Bouncy castle" class="bg-image">
                <img src="../bouncy-castle-3.jpg" alt="Bouncy castle" class="bg-image">
                <img src="../bouncy-castle-4.jpg" alt="Bouncy castle" class="bg-image">
            </div>
            
            <!-- Overlay layers (matching hero section) -->
            <div class="overlay-black"></div>
            <div class="overlay-blue"></div>
            
            <!-- Content Container -->
            <div class="hero-content">
                
                <!-- Header Section (2-column layout) -->
                <div class="header-section">
                    <!-- Left Column - Logo -->
                    <div class="logo-column">
                        <img src="../tands_logo.png" alt="T&S Bouncy Castle Hire Logo" class="hero-logo">
                    </div>
                    
                    <!-- Right Column - Title and Subtitle -->
                    <div class="title-column">
                        <h1 class="company-title">T&S Bouncy Castle Hire</h1>
                        <h2 class="hero-main-title">The Best Bouncy Castles in Town!</h2>
                        <div class="hero-subtitle">
                            🎉 Fun, Safe, and Fully Insured.<br>
                            We bring the party to you! 🎉
                        </div>
                    </div>
                </div>
                
                <!-- New Business Badge (no animation) -->
                <div class="business-launch-badge">
                    🏰 NEW LOCAL BUSINESS - TAKING BOOKINGS NOW! 🏰
                </div>
                
                <!-- Key Features (styled like hero buttons) -->
                <div class="key-features">
                    <div class="feature-badge">✅ Fully Insured</div>
                    <div class="feature-badge">🧼 Spotlessly Clean</div>
                    <div class="feature-badge">🚚 Free Delivery</div>
                    <div class="feature-badge">🛡️ Safety Tested</div>
                </div>
                
                <!-- Why Choose Us Section -->
                <div class="why-us-section">
                    <h3 class="why-title">🌟 Why Choose T&S Bouncy Castle Hire? 🌟</h3>
                    <div class="why-grid">
                        <div class="why-item">
                            <span class="why-icon">🏠</span>
                            <span>Local Edwinstowe family business</span>
                        </div>
                        <div class="why-item">
                            <span class="why-icon">📞</span>
                            <span>Available 7 days a week</span>
                        </div>
                        <div class="why-item">
                            <span class="why-icon">🚀</span>
                            <span>Quick setup & collection</span>
                        </div>
                        <div class="why-item">
                            <span class="why-icon">❤️</span>
                            <span>Friendly, reliable service</span>
                        </div>
                    </div>
                </div>
                
                <!-- Service Area -->
                <div class="service-area-section">
                    <h3 class="area-title">📍 Areas We Cover</h3>
                    <p class="area-text">
                        <strong>Edwinstowe</strong> • Ollerton • Clipstone • Bilsthorpe • Rufford • 
                        Walesby • New Ollerton • Boughton • Kirton • Eakring
                    </p>
                    <p class="area-note">
                        <em>Don't see your area? Give us a call - we may still be able to help!</em>
                    </p>
                </div>
                
                <!-- Call to Action (website link) -->
                <div class="cta-buttons">
                    <div class="cta-button primary">
                        <h3 class="contact-title">📞 Contact Us</h3>
                        <div class="contact-details">
                            <div class="contact-line website-line">🌐 <strong>bouncy-castle-hire.com</strong></div>
                            <div class="contact-line contact-row">
                                <span>📱 <strong>07835 094187</strong></span>
                                <span>✉️ <strong>info@bouncy-castle-hire.com</strong></span>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- Print Instructions (hidden when printing) -->
    <div class="print-instructions">
        <h3>📄 Printing Instructions</h3>
        <ul>
            <li><strong>Paper Size:</strong> A5 (148mm x 210mm)</li>
            <li><strong>Orientation:</strong> Portrait</li>
            <li><strong>Print Quality:</strong> High/Best quality</li>
            <li><strong>Margins:</strong> Minimum (3mm recommended)</li>
            <li><strong>Double-sided:</strong> No (single-sided leaflet)</li>
        </ul>
        <div class="button-group">
            <button onclick="window.print()" class="print-button">🖨️ Print Leaflet</button>
            <button onclick="downloadPDF()" class="pdf-button">📄 Download PDF (High Quality)</button>
            <button onclick="downloadHighQualityPDF()" class="pdf-button ultra-hq">✨ Download PDF (Ultra HQ)</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        function downloadPDF() {
            const element = document.querySelector('.leaflet-container');
            
            if (!element) {
                alert('Could not find leaflet content to export.');
                return;
            }
            
            // Hide print instructions during PDF generation
            const printInstructions = document.querySelector('.print-instructions');
            const originalDisplay = printInstructions ? printInstructions.style.display : '';
            if (printInstructions) {
                printInstructions.style.display = 'none';
            }
            
            // Show loading message
            const loadingDiv = document.createElement('div');
            loadingDiv.innerHTML = `
                <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
                           background: rgba(0,0,0,0.8); color: white; padding: 20px; border-radius: 10px; 
                           z-index: 10000; text-align: center;">
                    <div style="font-size: 18px; margin-bottom: 10px;">📄 Generating High-Quality PDF...</div>
                    <div style="font-size: 14px; opacity: 0.8;">This may take a moment for best quality</div>
                </div>
            `;
            document.body.appendChild(loadingDiv);
            
            // Wait a moment for UI to update, then generate PDF
            setTimeout(() => {
                // High-quality PDF export settings
                const opt = {
                    margin: [0, 0, 0, 0],
                    filename: 'T&S-Bouncy-Castle-Hire-Leaflet.pdf',
                    image: { 
                        type: 'png',  // PNG for lossless quality
                        quality: 1.0  // Maximum quality (1.0 = 100%)
                    },
                    html2canvas: { 
                        scale: 3,                    // Reduced from 4 for better compatibility
                        useCORS: true,
                        allowTaint: true,
                        backgroundColor: '#ffffff',   // White background instead of null
                        logging: false,
                        letterRendering: true,       // Better text rendering
                        onrendered: function() {
                            console.log('Canvas rendered for PDF');
                        }
                    },
                    jsPDF: { 
                        unit: 'mm', 
                        format: 'a5', 
                        orientation: 'portrait',
                        compress: false,        // No compression for maximum quality
                        precision: 16           // Higher precision for better quality
                    }
                };
                
                // Generate PDF with high quality settings
                html2pdf().set(opt).from(element).save().then(() => {
                    // Restore original state
                    if (printInstructions) {
                        printInstructions.style.display = originalDisplay;
                    }
                    document.body.removeChild(loadingDiv);
                    
                    console.log('✅ High-quality PDF generated successfully!');
                }).catch((error) => {
                    console.error('❌ PDF generation failed:', error);
                    
                    // Restore original state even on error
                    if (printInstructions) {
                        printInstructions.style.display = originalDisplay;
                    }
                    document.body.removeChild(loadingDiv);
                    
                    // Show error message
                    alert('Sorry, there was an error generating the PDF. Please try again or use the print option.');
                });
            }, 250); // Give UI time to update
        }

        // Alternative ultra-high-quality download using separate html2canvas and jsPDF
        function downloadHighQualityPDF() {
            const element = document.querySelector('.leaflet-container');
            
            if (!element) {
                alert('Could not find leaflet content to export.');
                return;
            }
            
            const printInstructions = document.querySelector('.print-instructions');
            
            // Hide print instructions
            const originalDisplay = printInstructions ? printInstructions.style.display : '';
            if (printInstructions) {
                printInstructions.style.display = 'none';
            }
            
            // Show enhanced loading message
            const loadingDiv = document.createElement('div');
            loadingDiv.innerHTML = `
                <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
                           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; 
                           padding: 30px; border-radius: 15px; z-index: 10000; text-align: center;
                           box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                    <div style="font-size: 24px; margin-bottom: 15px;">✨ Generating Ultra-HQ PDF...</div>
                    <div style="font-size: 16px; opacity: 0.9; margin-bottom: 20px;">This produces the highest quality possible</div>
                    <div style="width: 200px; height: 4px; background: rgba(255,255,255,0.3); border-radius: 2px; margin: 0 auto;">
                        <div style="height: 100%; background: white; border-radius: 2px; width: 0%; 
                                   animation: loading 3s ease-in-out infinite;" class="progress-bar"></div>
                    </div>
                    <div style="font-size: 12px; opacity: 0.7; margin-top: 10px;">Please wait, this may take 30-60 seconds...</div>
                </div>
                <style>
                    @keyframes loading {
                        0% { width: 0%; }
                        50% { width: 70%; }
                        100% { width: 100%; }
                    }
                </style>
            `;
            document.body.appendChild(loadingDiv);
            
            // Use setTimeout to allow UI update
            setTimeout(() => {
                // Create ultra-high resolution canvas - using html2canvas directly
                html2canvas(element, {
                    scale: 4,  // Reduced from 6 for better stability 
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff',  // White background instead of null
                    logging: false,
                    letterRendering: true,
                    height: element.offsetHeight,
                    width: element.offsetWidth,
                    onrendered: function(canvas) {
                        console.log('Canvas rendered successfully at ultra-high resolution');
                    }
                }).then(canvas => {
                    console.log(`Ultra-HQ Canvas created: ${canvas.width}x${canvas.height}px`);
                    
                    // Get PNG data at maximum quality
                    const imgData = canvas.toDataURL('image/png', 1.0);
                    
                    // Verify we have image data
                    if (!imgData || imgData === 'data:,') {
                        throw new Error('Failed to generate image data from canvas');
                    }
                    
                    // Create PDF with maximum quality settings
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF({
                        orientation: 'portrait',
                        unit: 'mm',
                        format: 'a5',
                        compress: false,        // No compression
                        precision: 16,          // Reduced for stability
                        putOnlyUsedFonts: true
                    });
                    
                    const imgWidth = 148;  // A5 width in mm
                    const imgHeight = 210; // A5 height in mm
                    
                    // Add image with highest quality settings
                    pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight, '', 'SLOW');
                    
                    // Save with success feedback
                    pdf.save('T&S-Bouncy-Castle-Hire-Leaflet-UltraHQ.pdf');
                    
                    // Restore state
                    if (printInstructions) {
                        printInstructions.style.display = originalDisplay;
                    }
                    document.body.removeChild(loadingDiv);
                    
                    // Success message
                    const successDiv = document.createElement('div');
                    successDiv.innerHTML = `
                        <div style="position: fixed; top: 20px; right: 20px; 
                                   background: #10b981; color: white; padding: 15px 20px; 
                                   border-radius: 8px; z-index: 10000; font-weight: bold;
                                   box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);">
                            ✅ Ultra-HQ PDF Downloaded Successfully!
                        </div>
                    `;
                    document.body.appendChild(successDiv);
                    setTimeout(() => document.body.removeChild(successDiv), 4000);
                    
                    console.log('✅ Ultra-HQ PDF generated successfully!');
                    
                }).catch((error) => {
                    console.error('❌ Ultra-HQ PDF generation failed:', error);
                    
                    // Restore state
                    if (printInstructions) {
                        printInstructions.style.display = originalDisplay;
                    }
                    document.body.removeChild(loadingDiv);
                    
                    // Show error message
                    const errorDiv = document.createElement('div');
                    errorDiv.innerHTML = `
                        <div style="position: fixed; top: 20px; right: 20px; 
                                   background: #ef4444; color: white; padding: 15px 20px; 
                                   border-radius: 8px; z-index: 10000; font-weight: bold;
                                   box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);">
                            ❌ Ultra-HQ PDF failed. Try the regular PDF option.
                        </div>
                    `;
                    document.body.appendChild(errorDiv);
                    setTimeout(() => document.body.removeChild(errorDiv), 5000);
                });
            }, 500); // Longer timeout for stability
        }
    </script>
</body>
</html> 